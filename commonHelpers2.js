import"./assets/styles-7490462e.js";import{S as g,i as c,a as y}from"./assets/vendor-b2578120.js";const l=document.querySelector(".form-search"),p=document.querySelector(".ul-gallery"),n=document.querySelector(".loader"),s=document.querySelector(".button-load-more");let i,r;const u=40;let m;var L=new g(".ul-gallery a",{captionsData:"alt",captionDelay:250});l.addEventListener("submit",f);async function f(e){s.classList.add("search"),e.preventDefault(),i=l.item.value.trim(),p.innerHTML="",r=1;const a=await d(r,i);h(a)}s.addEventListener("click",async()=>{try{s.classList.add("search"),r++;const e=await d(r,i);h(e),l.reset(),v()}catch(e){return c.error({position:"topRight",message:e})}});async function d(e,a){n.classList.remove("search");const o=new URLSearchParams({key:"41728524-9ad3c3555a09648a5caa6ae20",q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:u});return(await y.get(`https://pixabay.com/api/?${o}`)).data}function h(e){if(e.total===0){c.error({title:"No result",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),n.classList.add("search");return}const a=e.hits.reduce((o,t)=>o+`<li class="element"><a href="${t.largeImageURL}"><img class="image" src="${t.webformatURL}"  alt="${t.tags}"></a>
  <div class="container-stat">
  <p class="stat">Likes <span class="stat-value">${t.likes}</span></p>
  <p class="stat">Views <span class="stat-value">${t.views}</span></p>
  <p class="stat">Comments <span class="stat-value">${t.comments}</span></p>
  <p class="stat">Downloads <span class="stat-value">${t.downloads}</span></p>
  </div></li>`,"");if(p.insertAdjacentHTML("beforeend",a),L.refresh(),n.classList.add("search"),m=e.totalHits,r>=Math.ceil(m/u))return s.classList.add("search"),c.error({position:"topRight",message:"We're sorry, but you've reached the end of search results."});s.classList.remove("search")}function v(){let a=document.querySelector(".element").getBoundingClientRect();window.scrollBy({top:2*a.height,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers2.js.map
